# Git 规范化提交核心类型规范（Nuxt+Drizzle 项目适配版）
## 文档目的
为统一项目提交信息格式，提升提交历史可读性、便于团队协作与版本追溯，基于**约定式提交（Conventional Commits）** 规范，整理日常开发95%场景适用的核心提交类型，适配Nuxt+Drizzle项目开发场景，规范提交行为，避免无意义、不规范的提交信息。

## 一、核心提交类型（7类，覆盖95%开发场景）
| 类型标识 | 核心含义（一句话说明） | 适用场景 | 项目示例（Nuxt+Drizzle 专属） |
|----------|------------------------|----------|------------------------------|
| **feat** | 新增功能/特性 | 新增业务功能、模块、接口、表结构、组件等 | 1. `feat(db): 新增users表Drizzle Schema`<br>2. `feat(auth): 新增用户登录接口`<br>3. `feat(nuxt): 新增用户列表页面路由` |
| **fix** | 修复bug | 修复逻辑错误、兼容性问题、接口报错、数据库操作异常等 | 1. `fix(db): 修复SQLite自增主键不生效问题`<br>2. `fix(auth): 修复用户密码验证失败bug`<br>3. `fix(api): 修复接口参数校验异常` |
| **docs** | 仅修改文档 | 更新README、注释、API文档、配置说明、开发指南等 | 1. `docs(db): 更新Drizzle ORM初始化配置说明`<br>2. `docs(auth): 补充登录接口参数文档`<br>3. `docs: 完善项目提交规范文档` |
| **style** | 仅调整代码格式 | 仅修改代码缩进、空格、分号、换行等，不影响代码逻辑 | 1. `style(db): 格式化usersTable表结构代码`<br>2. `style(auth): 修复登录接口代码缩进问题`<br>3. `style: 统一项目代码换行符` |
| **refactor** | 代码重构 | 不新增功能、不修复bug，优化代码结构、可读性、性能 | 1. `refactor(db): 抽离Drizzle数据库连接逻辑`<br>2. `refactor(auth): 简化登录接口逻辑`<br>3. `refactor(nuxt): 重构页面组件结构` |
| **test** | 新增/修改测试代码 | 新增单元测试、集成测试、E2E测试，修改测试用例 | 1. `test(db): 新增users表Drizzle Schema测试`<br>2. `test(auth): 新增用户登录接口单元测试`<br>3. `test(api): 修复接口测试用例` |
| **chore** | 杂项/构建/配置 | 不涉及业务代码，修改依赖、构建脚本、配置文件、工具等 | 1. `chore: 升级drizzle-orm至0.30.0版本`<br>2. `chore(nuxt): 修改Nuxt路由配置`<br>3. `chore: 安装husky+commitlint提交规范工具` |

## 二、标准提交格式
### 基础格式（必选）
```bash
<type>[<scope>]: <description>
```
### 完整格式（可选扩展）
```bash
<type>[<scope>]: <description>

[optional body]  # 详细说明修改原因、逻辑（换行，每段≤72字符）

[optional footer] # 标记破坏性变更（BREAKING CHANGE:）、关闭Issue（Closes #123）
```

### 格式说明
1. **`<type>`**：必选，使用上述核心类型标识，**统一小写**；
2. **`<scope>`**：可选，用括号包裹，说明修改的模块/范围（如`db`、`auth`、`nuxt`、`api`），让提交更精准；
3. **`<description>`**：必选，简短描述修改内容，**动词开头**，不超过50字符，无句尾标点；
4. **`body`**：可选，详细说明修改原因、实现逻辑，复杂修改时补充；
5. **`footer`**：可选，标记破坏性变更或关联Issue，团队协作时使用。

## 三、项目专属完整示例
### 1. 基础示例（无扩展）
```bash
# 新增数据库表
feat(db): 新增roles表Drizzle Schema

# 修复数据库bug
fix(db): 修复roles表外键关联异常

# 更新文档
docs(db): 补充roles表字段说明
```

### 2. 带扩展的示例（复杂修改）
```bash
fix(auth): 修复JWT token过期验证失效

JWT token过期时间配置未生效，调整为从环境变量读取，
并新增token过期拦截中间件，确保过期token无法访问接口。

Closes #45
BREAKING CHANGE: JWT配置项从硬编码改为环境变量，需新增NUXT_JWT_EXPIRE环境变量
```

## 四、注意事项
1. **类型规范**：仅使用上述7类核心类型，禁止自定义无意义类型（如`update`、`modify`）；
2. **描述规范**：描述需精准简洁，避免“修改代码”“修复问题”等模糊表述，明确具体修改内容；
3. **作用域规范**：作用域按需使用，优先使用项目通用模块名（`db`/`auth`/`nuxt`/`api`/`ui`），无明确模块时可省略；
4. **语言规范**：提交信息优先使用**中文**，团队统一即可，也可按需切换为英文；
5. **避免冗余**：禁止提交信息与实际修改内容不符，禁止重复提交（如多次提交“修改代码”）。

## 五、工具辅助（可选）
为降低规范落地成本，推荐使用以下工具自动生成/校验提交信息：
1. **cz-git**：交互式生成规范提交信息，无需手动记类型；
2. **commitlint+husky**：强制校验提交信息，拒绝不规范提交；
3. **使用方式**：执行`git cz`替代`git commit`，按终端提示选择类型、填写描述即可。