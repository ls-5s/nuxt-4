# 实现 QQ 自动回复机器人（Nuxt 4 + TS 版·完整指南）

QQ 自动回复机器人需基于「第三方协议 SDK + 开发框架」实现（QQ 官方未开放公开机器人 API），本指南采用 **Nuxt 4 + TypeScript + NoneBot2 + go-cqhttp** 方案——Nuxt 4 负责搭建可视化管理后台（实现回复规则、AI 配置的可视化操作），NoneBot2 + go-cqhttp 负责 QQ 协议对接与自动回复核心逻辑，全程使用 TS 开发，兼顾生态成熟度与开发便捷性，适合新手快速上手。

以下是完整实现步骤，涵盖 Nuxt 4 管理后台搭建、机器人核心开发、协议配置、部署上线全流程，全程 TS 统一语法，无需切换语言：

# 一、技术栈选型（新增Nuxt 4，贴合TS全栈开发）

| 工具/框架     | 作用                                                  | 核心优势                                                             |
| ------------- | ----------------------------------------------------- | -------------------------------------------------------------------- |
| go-cqhttp     | QQ 协议对接（模拟 QQ 客户端）                         | 稳定、支持扫码登录、兼容大部分 QQ 功能，与 NoneBot2 无缝联动         |
| NoneBot2      | 机器人核心框架（事件处理、插件、接口提供）            | 跨平台、原生支持 TS、插件化开发，可提供 API 供 Nuxt 4 调用           |
| Nuxt 4        | 可视化管理后台（回复规则配置、日志查看、AI 密钥管理） | TS 原生支持、路由自动生成、SSR/SSG 灵活切换，开发效率高，新手友好    |
| Node.js       | 运行环境（Nuxt 4、NoneBot2、TS 依赖）                 | 前端开发者熟悉、生态丰富，兼容所有技术栈组件（需 v18+，适配 Nuxt 4） |
| 可选：AI 接口 | 智能回复（如 Claude/OpenAI）                          | 支持自然语言对话，无需手动写关键词规则，可在 Nuxt 4 后台配置密钥     |
# 二、前置准备（适配Nuxt 4 + TS环境）

## 1. 安装依赖工具

- Node.js（v18+，必须，Nuxt 4 最低要求）：[下载地址](https://nodejs.org/zh-cn/download/)（安装时勾选「Add to PATH」，方便全局调用）

- 代码编辑器：VS Code（推荐安装 TypeScript、Nuxt 4 插件，提升开发效率）

- go-cqhttp：[下载地址](https://github.com/Mrs4s/go-cqhttp/releases)（选择对应系统版本，如 Windows 选 `go-cqhttp_windows_amd64.zip`）

- 包管理器：pnpm（推荐，Nuxt 4 官方推荐，安装命令：`npm install -g pnpm`）

## 2. 账号与密钥准备

- 一个闲置的 QQ 号（避免主号被风控，建议新注册或不常用账号）

- （可选）AI 接口密钥（如 Claude API Key、OpenAI API Key，后续在 Nuxt 4 后台配置）

- （可选）云服务器（用于部署机器人 + Nuxt 4 后台，实现 24 小时运行）

# 三、步骤 1：配置 go-cqhttp（QQ 协议对接，不变更核心）

go-cqhttp 负责与 QQ 服务器通信，将 QQ 消息转发给 NoneBot2，再将 NoneBot2 处理后的回复返回给 QQ，与 Nuxt 4 无直接关联，配置流程不变。

## 1. 初始化 go-cqhttp

1. 解压下载的 go-cqhttp 压缩包，双击运行 `go-cqhttp.exe`（Windows）或执行 `chmod +x go-cqhttp && ./go-cqhttp`（Mac/Linux）；

2. 首次运行会提示选择通信方式，输入 `3`（WebSocket 通信，推荐，与 NoneBot2 对接更稳定），回车后自动生成 `config.yml` 配置文件；

3. 关闭 go-cqhttp（后续修改配置后再启动）。

## 2. 修改 config.yml 配置

用 VS Code 打开 `config.yml`，修改以下核心配置（其他配置保持默认）：

```yaml

# 账号配置
account:
  uin: 你的 QQ 号  # 如 123456789
  password: ""     # 留空，后续用扫码登录
  encrypt: false
  status: 1        # 在线状态（1=在线）

# WebSocket 配置（对接 NoneBot2）
servers:
  - ws:
      address: 0.0.0.0:8080  # 本地端口，NoneBot2 会连接这个端口
      middlewares:
        access:
          version: v1
```

## 3. 启动 go-cqhttp 并登录 QQ

1. 重新运行 go-cqhttp，此时会提示「请扫描下方二维码登录」；

2. 用手机 QQ 扫描终端中的二维码，确认登录；

3. 登录成功后，终端会显示「WebSocket 服务器已启动」，保持 go-cqhttp 运行（不要关闭终端）。

# 四、步骤 2：创建 NoneBot2 机器人项目（TS 版，提供 API 供 Nuxt 4 调用）

NoneBot2 是机器人核心，负责处理 QQ 消息、执行回复逻辑，同时提供 API 接口，供 Nuxt 4 管理后台调用（实现回复规则的增删改查），全程 TS 开发。

## 1. 初始化 NoneBot2 项目（TS 版）

1. 打开 VS Code 终端，执行以下命令创建项目：
        `# 安装 NoneBot2 脚手架（全局）
npm install -g nb-cli

# 创建 TypeScript 项目（项目名自定义，如 qq-auto-reply-bot）
` `nb create qq-auto-reply-bot --type=ts`

2. 按提示选择配置：
        

    - 包管理器：选择 pnpm（与 Nuxt 4 保持一致，避免依赖冲突）

    - 插件模板：默认「空项目」即可

    - 其他选项：全部默认（或按需勾选）

3. 进入项目目录，安装依赖（WebSocket 适配器 + API 插件，供 Nuxt 4 对接）：
        `cd qq-auto-reply-bot
# 安装 WebSocket 适配器（对接 go-cqhttp）
pnpm install nonebot-adapter-onebot@2
# 安装 API 插件（提供接口，供 Nuxt 4 调用）
pnpm install nonebot-plugin-fastapi uvicorn`

## 2. 配置 NoneBot2（对接 go-cqhttp + 启用 API）

### （1）修改核心配置 pyproject.toml

打开项目根目录的 `pyproject.toml`（NoneBot2 配置文件），修改以下内容：

```toml

[tool.nonebot]
# 启用 WebSocket 适配器（对接 go-cqhttp）和 API 插件
adapters = ["nonebot.adapters.onebot.v11"]
plugins = ["nonebot_plugin_fastapi"]
# 机器人命令前缀（可选，如设置为 "" 则无前缀）
command_start = [""]
command_sep = [" "]
# API 服务配置（Nuxt 4 后台将调用这个地址）
[tool.nonebot.plugin.nonebot_plugin_fastapi]
host = "0.0.0.0"
port = 8000  # API 端口，Nuxt 4 后续将对接这个端口
```

### （2）创建适配器配置文件

在项目根目录创建 `configs/adapter/onebot.v11.toml`，添加以下内容（对接 go-cqhttp 的 WebSocket 端口）：

```toml

[ws_client]
# 连接 go-cqhttp 的 WebSocket 地址（与 config.yml 中的端口一致）
url = "ws://127.0.0.1:8080/ws"
```

# 五、步骤 3：编写机器人核心逻辑（TS + API 接口，供 Nuxt 4 调用）

编写自动回复逻辑（关键词精准匹配、模糊匹配、AI 回复），同时编写 API 接口，实现「回复规则增删改查」「AI 密钥配置」，供 Nuxt 4 管理后台调用，全程 TS 开发，确保语法统一。

## 1. 初始化核心依赖（统一 TS 配置）

在 NoneBot2 项目根目录创建 `tsconfig.json`（确保 TS 语法兼容）：

```json

{
  "compilerOptions": {
    "target": "ESNext",
    "module": "ESNext",
    "moduleResolution": "Node",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "outDir": "./dist",
    "rootDir": "./src"
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

## 2. 编写核心插件（回复逻辑 + API 接口）

创建 `src/plugins/reply/index.ts` 文件，整合关键词回复、模糊匹配、AI 回复，同时提供 API 接口，供 Nuxt 4 后台调用：

```typescript

import { onMessage, Context, PluginMetadata } from "nonebot";
import { MessageSegment } from "nonebot-adapter-onebot";
import { FastAPI, APIRouter } from "nonebot_plugin_fastapi";
import { Anthropic } from "@anthropic-ai/sdk";

// 1. 初始化 API 路由（供 Nuxt 4 调用）
const router = APIRouter();
const fastapi = FastAPI.getInstance();
fastapi.include_router(router);

// 2. 存储回复规则（内存存储，部署时可替换为数据库，Nuxt 4 可通过 API 操作）
let keywordMap: Record<string, string> = {
  "你好": "你好呀！我是自动回复机器人～",
  "再见": "拜拜～ 下次见！",
  "吃饭了吗": "还没呢，你要请我吃吗？😋",
  "天气": "今天天气晴朗，适合出去玩呀！（实际天气可对接天气 API）",
};

// 模糊匹配规则
let fuzzyRules: Array<{ regex: RegExp; reply: string }> = [
  { regex: /开心|快乐|高兴/, reply: "看到你开心，我也开心！😊" },
  { regex: /难过|伤心|生气/, reply: "摸摸头～ 一切都会好起来的！🤗" },
  { regex: /学习|作业|考试/, reply: "加油！努力就会有收获～" },
];

// AI 配置（可通过 Nuxt 4 API 修改）- 修正拼写错误（claudeApiKey → claudeApiKey）
let aiConfig = {
  claudeApiKey: "", // 初始为空，后续在 Nuxt 4 后台配置
  enabled: false,
};

// 3. API 接口：获取/修改关键词回复规则（供 Nuxt 4 调用）
router.get("/api/keyword", async () => {
  return { code: 200, data: keywordMap };
});

router.post("/api/keyword", async (req) => {
  const { key, reply } = req.body;
  keywordMap[key] = reply;
  return { code: 200, msg: "关键词规则添加成功" };
});

router.delete("/api/keyword/:key", async (req) => {
  const { key } = req.params;
  delete keywordMap[key];
  return { code: 200, msg: "关键词规则删除成功" };
});

// 4. API 接口：配置 AI 密钥（供 Nuxt 4 调用）- 修正拼写错误
router.post("/api/ai/config", async (req) => {
  const { claudeApiKey, enabled } = req.body;
  aiConfig.claudeApiKey = claudeApiKey;
  aiConfig.enabled = enabled;
  return { code: 200, msg: "AI 配置生效" };
});

// 5. 基础：关键词精准匹配回复
const keywordReply = onMessage({
  priority: 10,
  rule: async (ctx: Context) => {
    return ctx.message_type === "private" || ctx.message_type === "group";
  },
});

keywordReply.handle(async (ctx: Context) => {
  const messageText = ctx.message.extractPlainText().trim();
  const reply = keywordMap[messageText as keyof typeof keywordMap];
  if (reply) {
    await ctx.send(reply);
  }
});

// 6. 进阶：模糊匹配回复
const fuzzyReply = onMessage({
  priority: 9,
  rule: async (ctx: Context) => ctx.message_type === "private" || ctx.message_type === "group",
});

fuzzyReply.handle(async (ctx: Context) => {
  const messageText = ctx.message.extractPlainText().trim();
  for (const { regex, reply } of fuzzyRules) {
    if (regex.test(messageText)) {
      await ctx.send(reply);
      return;
    }
  }
});

// 7. 高级：AI 智能回复（对接 Claude，密钥通过 Nuxt 4 配置）- 修正拼写错误
const aiReply = onMessage({
  priority: 8,
  rule: async (ctx: Context) => {
    const text = ctx.message.extractPlainText().trim();
    // 仅处理以 "AI：" 开头的消息，且 AI 已启用
    return aiConfig.enabled && (ctx.message_type === "private" || ctx.message_type === "group") && text.startsWith("AI：");
  },
});

aiReply.handle(async (ctx: Context) => {
  const userInput = ctx.message.extractPlainText().trim().replace("AI：", "");
  try {
    const anthropic = new Anthropic({ apiKey: aiConfig.claudeApiKey });
    const response = await anthropic.messages.create({
      model: "claude-3-sonnet-20240229",
      max_tokens: 500,
      messages: [{ role: "user", content: userInput }],
    });
    const aiResponse = response.content[0].text;
    await ctx.send(aiResponse);
  } catch (error) {
    console.error("AI 回复失败：", error);
    await ctx.send("抱歉，AI 回复出错了（可能是密钥未配置或失效）～");
  }
});

// 安装 AI 依赖提示（首次运行可执行）
console.log("提示：若需启用 AI 回复，请先在 Nuxt 4 后台配置 Claude API Key，同时执行 pnpm install @anthropic-ai/sdk");

export default keywordReply;
export const metadata: PluginMetadata = {
  name: "auto-reply",
  description: "自动回复插件（关键词+模糊匹配+AI），支持 Nuxt 4 后台配置",
  usage: "发送关键词或 AI：+ 问题触发回复",
};
```

# 六、步骤 4：创建 Nuxt 4 + TS 管理后台（可视化配置回复规则）

Nuxt 4 负责搭建可视化管理后台，通过调用 NoneBot2 提供的 API 接口，实现「关键词回复规则增删改查」「AI 密钥配置」，无需手动修改机器人代码，全程 TS 开发，新手可直接复用代码。

## 1. 初始化 Nuxt 4 项目（TS 版）

1. 打开 VS Code 新终端（不要关闭 NoneBot2 和 go-cqhttp 终端），执行以下命令创建 Nuxt 4 项目：
        `# 创建 Nuxt 4 + TS 项目（项目名自定义，如 qq-bot-admin）
pnpm dlx nuxi@latest init qq-bot-admin --typescript

# 进入项目目录
cd qq-bot-admin

# 安装依赖（axios 用于调用 NoneBot2 API）
` `pnpm install axios`

2. 修改 Nuxt 4 配置（适配 API 调用）：打开项目根目录的 `nuxt.config.ts`，添加以下内容：
        `export default defineNuxtConfig({
  devtools: { enabled: true }, // 开发工具（可选，方便调试）
  runtimeConfig: {
    // 配置 NoneBot2 API 地址（本地开发默认此地址）
    public: {
      apiBase: "http://127.0.0.1:8000" // 对应 NoneBot2 的 API 端口
    }
  }
` `})`

## 2. 封装 API 请求（对接 NoneBot2）

创建 `composables/useApi.ts` 文件，封装 axios 请求，统一调用 NoneBot2 API：

```typescript

import axios from "axios";

const useApi = () => {
  const config = useRuntimeConfig();
  const api = axios.create({
    baseURL: config.public.apiBase,
    headers: {
      "Content-Type": "application/json"
    }
  });

  // 关键词回复规则相关 API
  const getKeywords = async () => {
    const res = await api.get("/api/keyword");
    return res.data;
  };

  const addKeyword = async (key: string, reply: string) => {
    const res = await api.post("/api/keyword", { key, reply });
    return res.data;
  };

  const deleteKeyword = async (key: string) => {
    const res = await api.delete(`/api/keyword/${key}`);
    return res.data;
  };

  // AI 配置相关 API
  const setAiConfig = async (claudeApiKey: string, enabled: boolean) => {
    const res = await api.post("/api/ai/config", { claudeApiKey, enabled });
    return res.data;
  };

  return {
    getKeywords,
    addKeyword,
    deleteKeyword,
    setAiConfig
  };
};

export default useApi;
```

## 3. 开发管理后台页面（核心页面）

修改 `pages/index.vue` 文件（Nuxt 4 自动生成路由，访问根路径即可进入后台），实现可视化配置功能：

```vue

<script setup lang="ts">
import useApi from "~/composables/useApi";

const { getKeywords, addKeyword, deleteKeyword, setAiConfig } = useApi();

// 关键词回复规则状态
const keywords = ref<Record<string, string>>({});
// 新增关键词表单
const newKey = ref("");
const newReply = ref("");
// AI 配置表单
const claudeApiKey = ref("");
const aiEnabled = ref(false);

// 页面加载时获取现有关键词规则
onMounted(async () => {
  const res = await getKeywords();
  keywords.value = res.data;
});

// 新增关键词回复规则
const handleAddKeyword = async () => {
  if (!newKey.value || !newReply.value) {
    alert("关键词和回复内容不能为空！");
    return;
  }
  await addKeyword(newKey.value, newReply.value);
  // 重新获取关键词列表
  const res = await getKeywords();
  keywords.value = res.data;
  // 重置表单
  newKey.value = "";
  newReply.value = "";
};

// 删除关键词回复规则
const handleDeleteKeyword = async (key: string) => {
  if (confirm(`确定要删除关键词「${key}」吗？`)) {
    await deleteKeyword(key);
    const res = await getKeywords();
    keywords.value = res.data;
  }
};

// 保存 AI 配置
const handleSaveAiConfig = async () => {
  if (aiEnabled.value && !claudeApiKey.value) {
    alert("启用 AI 回复请填写 Claude API Key！");
    return;
  }
  await setAiConfig(claudeApiKey.value, aiEnabled.value);
  alert("AI 配置保存成功！");
};
</script>

<template>
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <h1 class="text-3xl font-bold mb-8 text-center">QQ 自动回复机器人管理后台（Nuxt 4 + TS）</h1>

    <!-- 关键词回复配置区域 -->
    <div class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">关键词回复配置</h2>
      <div class="flex gap-4 mb-6">
        <input
          v-model="newKey"
          placeholder="请输入关键词（如：你好）"
          class="flex-1 px-4 py-2 border border-gray-300 rounded"
        />
        <input
          v-model="newReply"
          placeholder="请输入回复内容"
          class="flex-1 px-4 py-2 border border-gray-300 rounded"
        />
        <button
          @click="handleAddKeyword"
          class="px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
        >
          新增规则
        </button>
      </div>

      <!-- 关键词列表 -->
      <div class="border border-gray-300 rounded-lg overflow-hidden">
        <div class="grid grid-cols-3 bg-gray-100 font-semibold px-4 py-2">
          <div>关键词</div>
          <div>回复内容</div>
          <div>操作</div>
        </div>
        <div v-for="(reply, key) in keywords" :key="key" class="grid grid-cols-3 px-4 py-3 border-t border-gray-300">
          <div>{{ key }}</div>
          <div>{{ reply }}</div>
          <div>
            <button
              @click="handleDeleteKeyword(key)"
              class="text-red-500 hover:text-red-700"
            >
              删除
            </button>
          </div>
        </div>
        <div v-if="Object.keys(keywords).length === 0" class="px-4 py-6 text-center text-gray-500">
          暂无关键词回复规则，点击新增按钮添加
        </div>
      </div>
    </div>

    <!-- AI 回复配置区域 -->
    <div>
      <h2 class="text-2xl font-semibold mb-4">AI 回复配置（Claude）</h2>
      <div class="border border-gray-300 rounded-lg p-6">
        <div class="flex items-center mb-4">
          <input
            type="checkbox"
            v-model="aiEnabled"
            class="w-4 h-4 mr-2"
          />
          <label>启用 AI 回复（发送「AI：+ 问题」触发）</label>
        </div>
        <div class="mb-4">
          <label class="block mb-2">Claude API Key</label>
          <input
            v-model="claudeApiKey"
            placeholder="请输入 Claude API Key（从 https://console.anthropic.com/ 获取）"
            class="w-full px-4 py-2 border border-gray-300 rounded"
          />
        </div>
        <button
          @click="handleSaveAiConfig"
          class="px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600"
        >
          保存 AI 配置
        </button>
      </div>
    </div>
  </div>
</template>

<style scoped>
.container {
  font-family: "Microsoft YaHei", sans-serif;
}
</style>
```

# 七、步骤 5：运行全流程（机器人 + Nuxt 4 后台）

确保 go-cqhttp、NoneBot2、Nuxt 4 三个服务同时运行，即可实现「自动回复 + 可视化配置」：

1. 确认 go-cqhttp 已启动并登录 QQ（终端显示「WebSocket 服务器已启动」）；

2. 进入 NoneBot2 项目目录，启动机器人：
       `cd qq-auto-reply-bot
` `pnpm run dev`启动成功后，终端会显示「NoneBot 已启动」和「FastAPI 服务已启动 on http://0.0.0.0:8000」；

3. 进入 Nuxt 4 项目目录，启动管理后台：
        `cd qq-bot-admin
pnpm run dev`启动成功后，终端会显示访问地址（默认 http://localhost:3000），打开浏览器访问该地址，即可进入可视化管理后台；

4. 测试效果：

    - 在 Nuxt 4 后台新增关键词规则（如「测试」→「测试成功！」）；

    - 用其他 QQ 私聊机器人，发送「测试」，机器人会自动回复「测试成功！」；

    - 在 Nuxt 4 后台配置 Claude API Key 并启用 AI，发送「AI：今天吃什么」，机器人会返回 AI 生成的回复。

# 八、步骤 6：部署上线（让机器人 + Nuxt 4 后台 24 小时运行）

本地运行时，关闭电脑/终端后服务会停止，需将 go-cqhttp、NoneBot2、Nuxt 4 三个服务部署到云服务器，实现 24 小时运行。

## 1. 服务器准备

- 购买云服务器（如阿里云、腾讯云、华为云），推荐配置：2核2G、系统选择 CentOS 8 或 Ubuntu 20.04；

- 开放服务器端口：8080（go-cqhttp WebSocket）、8000（NoneBot2 API）、3000（Nuxt 4 后台）、22（SSH 连接）；

- 用 SSH 工具（如 Xshell、FinalShell）连接服务器。

## 2. 部署步骤（服务器端，全程 Linux 命令）

### （1）安装依赖（服务器端）

```bash

# 安装 Node.js（v18+）
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# 安装 pnpm
npm install -g pnpm

# 安装 unzip（用于解压 go-cqhttp）
sudo apt install -y unzip
```

### （2）部署 go-cqhttp

```bash

# 下载 go-cqhttp（Linux 版本）
wget https://github.com/Mrs4s/go-cqhttp/releases/download/v1.1.0/go-cqhttp_linux_amd64.zip

# 解压
unzip go-cqhttp_linux_amd64.zip

# 修改配置（同本地，修改 uin 为你的 QQ 号）
vim config.yml

# 后台启动 go-cqhttp（添加&实现后台运行，修正原命令缺失问题）
nohup ./go-cqhttp > go-cqhttp.log 2>&1 
```

### （3）部署 NoneBot2 机器人

```bash

# 上传本地 NoneBot2 项目到服务器（可通过 scp 或 FTP 工具）
# 示例：scp -r 本地项目路径 服务器用户名@服务器IP:~/qq-auto-reply-bot

# 进入项目目录
cd ~/qq-auto-reply-bot

# 安装依赖
pnpm install

# 后台启动 NoneBot2（添加&实现后台运行，修正原命令缺失问题）
nohup pnpm run start > bot.log 2>&1
```

### （4）部署 Nuxt 4 管理后台

```bash

# 上传本地 Nuxt 4 项目到服务器
# 示例：scp -r 本地项目路径 服务器用户名@服务器IP:~/qq-bot-admin

# 进入项目目录
cd ~/qq-bot-admin

# 安装依赖
pnpm install

# 构建 Nuxt 4 项目（生成静态文件）
pnpm run build

# 后台启动 Nuxt 4（添加&实现后台运行，修正原命令缺失问题）
nohup pnpm run start > admin.log 2>&1 
```

### （5）验证部署

- 浏览器访问「http://服务器IP:3000」，可正常打开 Nuxt 4 管理后台；

- 用 QQ 私聊机器人，发送关键词或 AI 指令，可正常触发自动回复；

- 查看日志排查问题：`cat go-cqhttp.log`、`cat bot.log`、`cat admin.log`。

## 3. 部署注意事项

- 服务器需保持运行，避免关机；若重启服务器，需重新启动三个服务（可配置开机自启）；

- Nuxt 4 后台部署后，若需修改 API 地址，修改 `nuxt.config.ts` 中的 `apiBase` 为服务器 IP:8000；

- 定期查看日志，排查报错（如 QQ 登录失效、API 调用失败等）。

# 九、进阶功能扩展（Nuxt 4 + TS 适配）

1. 日志查看功能：在 Nuxt 4 后台添加「回复日志」页面，调用 NoneBot2 API 获取机器人回复记录，实现可视化查看；

2. 模糊匹配规则配置：在 Nuxt 4 后台添加模糊规则增删改查，同步修改 NoneBot2 中的 `fuzzyRules` 存储逻辑；

3. 多账号管理：在 go-cqhttp 中配置多个 QQ 号，Nuxt 4 后台添加账号切换功能，统一管理多个机器人；

4. 权限控制：在 Nuxt 4 中添加登录页面（如密码登录），避免管理后台被他人篡改配置；

5. 工具集成：在 Nuxt 4 后台添加天气 API、翻译 API 配置，联动机器人实现更多功能。

# 十、避坑指南（Nuxt 4 + 机器人适配重点）

## 1. Nuxt 4 相关

- Node.js 版本必须 ≥ v18，否则 Nuxt 4 无法启动，安装后可通过 `node -v` 验证；

- Nuxt 4 开发环境与生产环境 API 地址需区分，部署时修改 `nuxt.config.ts` 中的 `apiBase` 为服务器地址；

- 若 Nuxt 4 后台无法调用 API，检查服务器 8000 端口是否开放，NoneBot2 是否正常运行。

## 2. QQ 账号风控

- 不要用主号运行机器人，避免被封号；

- 避免高频发送消息、发送违规内容；

- 登录时优先用扫码登录，避免密码登录触发风控。

## 3. 技术栈联动问题

- NoneBot2 启动失败：检查 go-cqhttp 是否正常运行，WebSocket 端口是否被占用；

- Nuxt 4 后台无法获取关键词：检查 NoneBot2 的 API 端口是否正确，插件是否启用；

- AI 回复失败：检查 Nuxt 4 后台配置的 API Key 是否正确、余额是否充足。

# 十一、参考资源

- Nuxt 4 官方文档：[https://nuxt.com/docs](https://nuxt.com/docs)

- NoneBot2 官方文档：[https://nonebot.dev/](https://nonebot.dev/)

- go-cqhttp 官方文档：[https://docs.go-cqhttp.org/](https://docs.go-cqhttp.org/)

- Claude API 文档：[https://docs.anthropic.com/](https://docs.anthropic.com/)

按以上步骤，即可实现一个「Nuxt 4 + TS + NoneBot2 + go-cqhttp」的 QQ 自动回复机器人，既有自动回复核心功能，又有可视化管理后台，无需手动修改代码即可配置回复规则，新手可快速上手，同时兼顾 TS 全栈开发的规范性和可扩展性。
> （注：文档部分内容可能由 AI 生成）